/* ===========================
   Variables & Base
=========================== */
:root{
  --bg:#f5f7fb;          /* fondo claro institucional */
  --card:#ffffff;        /* tarjetas */
  --line:#e6e8ef;        /* bordes sutiles */
  --text:#0f172a;        /* texto principal */
  --muted:#6b7280;       /* texto secundario */
  --brand:#164e63;       /* acento institucional */
  --brand-2:#2563eb;     /* acento secundario */
  --warn-bg:#fff7ed;     /* aviso */
  --warn-bd:#fed7aa;
  --warn-tx:#9a3412;
  --shadow:0 6px 24px rgba(10, 20, 40, .06);
  --radius:14px;
}

*{ box-sizing:border-box; }
html, body, #root{
  height:100%;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Contenedor principal de ancho completo */
.wrap{
  width:100%;
  max-width:none;        /* ocupa todo el ancho */
  padding:20px 24px;
  margin:0 auto;
}

/* ===========================
   Header
=========================== */
.header{
  display:flex; align-items:center; justify-content:space-between;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:12px 16px;
  box-shadow:var(--shadow);
  margin-bottom:16px;
}
.h-left{ display:flex; gap:12px; align-items:center; }
.logo{ font-size:30px; line-height:1; }
.titles h1{ margin:0 0 2px; font-size:20px; font-weight:800; color:#0b2436; }
.titles p{ margin:0; color:var(--muted); font-size:13px; }
.h-right{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }

/* Botones */
.tab-btn, .btn{
  background:#fff;
  border:1px solid var(--line);
  border-radius:10px;
  padding:8px 12px;
  cursor:pointer;
  font-weight:600;
}
.tab-btn:hover, .btn:hover{ filter:brightness(0.98); }
.tab-btn.active{
  border-color:var(--brand);
  color:var(--brand);
  background:#f0f8ff;
}
.btn.primary{
  background:var(--brand);
  color:#fff;
  border-color:var(--brand);
}
.btn.primary:hover{ filter:brightness(0.97); }
.btn.warn{
  background:var(--warn-bg);
  border-color:var(--warn-bd);
  color:var(--warn-tx);
}
.btn.ghost{
  background:#fff;
  color:var(--text);
}
.select{
  padding:8px 10px;
  border:1px solid var(--line);
  border-radius:10px;
  background:#fff;
}
.split{ display:flex; gap:8px; align-items:center; }

/* ===========================
   KPI strip
=========================== */
.kpi-strip{
  display:grid;
  grid-template-columns: repeat(3, minmax(240px, 1fr));
  gap:12px;
  margin-bottom:12px;
}
.kpi-card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  padding:14px;
  box-shadow:var(--shadow);
}
.kpi-label{ color:var(--muted); font-size:12px; }
.kpi-value{ font-size:26px; font-weight:800; line-height:1.1; }
.kpi-value.blue{ color:var(--brand-2); }

/* ===========================
   Totales por partido
=========================== */
.party-totals{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-bottom:16px;
}
.party-totals.print{ margin-top:6px; }
.party-box{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:12px 14px;
  min-width:220px;
}
.party-box.total{ background:#eef6ff; }
.party-name{
  color:#0b2436;
  font-size:13px;
  font-weight:700;
  display:flex;
  align-items:center;
  gap:8px;
}
.flag{
  width:42px; height:28px;
  object-fit:cover;
  border:1px solid var(--line);
  border-radius:4px;
}
.flag.sm{
  width:28px; height:20px;
}
.big{ font-size:30px; font-weight:800; line-height:1.1; margin-top:4px; }

/* ===========================
   Grid de lugares
=========================== */
.places-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap:14px;
}
.place-card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:12px;
  break-inside:avoid; page-break-inside:avoid;
}
.place-head{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:6px;
}
.place-head h3{ margin:0; font-size:16px; color:#0b2436; }
.chip{
  border:1px solid var(--line);
  border-radius:999px;
  padding:6px 12px;
  background:#fff;
  cursor:pointer;
  font-weight:600;
}
.chip:hover{ filter:brightness(0.98); }
.place-body .row{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 0;
  border-bottom:1px dashed var(--line);
}
.place-body .row:last-child{ border-bottom:none; }
.label{
  color:#0b2436;
  font-weight:600;
  display:flex; align-items:center; gap:8px;
}
.value{ font-weight:800; }
.place-foot{
  display:flex; align-items:center; justify-content:space-between;
  margin-top:8px; padding-top:8px; border-top:1px solid var(--line);
}

/* ===========================
   Resultados
=========================== */
.results-two{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  margin-top:16px;
}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
  box-shadow:var(--shadow);
}
.cand-list{ list-style:none; margin:0; padding:0; }
.cand-list li{
  padding:8px 0;
  border-bottom:1px dashed var(--line);
}
.cand-list li:last-child{ border-bottom:none; }
.muted{ color:var(--muted); }
.table-wrap{ overflow:auto; }
table{ width:100%; border-collapse:collapse; page-break-inside:avoid; }
th, td{ padding:10px 12px; border-bottom:1px solid var(--line); text-align:left; font-size:14px; }
td.right{ text-align:right; }
.strong{ font-weight:700; }

/* ===========================
   Reportes comunes
=========================== */
.print-block{
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:var(--shadow);
  padding:16px;
}
.print-title{
  font-size:20px;
  font-weight:800;
  margin-bottom:12px;
  color:#0b2436;
}
.report-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap:14px;
}
.report-card{
  border:1px solid var(--line);
  border-radius:12px;
  background:#fff;
  break-inside:avoid; page-break-inside:avoid;
}
.r-head{
  padding:10px 12px;
  border-bottom:1px solid var(--line);
  font-weight:800;
  color:#0b2436;
}
.r-body{ padding:10px 12px; }
.r-body.slim .r-row{ padding:4px 0; }
.r-row{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 0;
  border-bottom:1px dashed var(--line);
}
.r-row:last-child{ border-bottom:none; }
.r-label{ color:#0b2436; font-weight:600; display:flex; align-items:center; gap:8px; }
.r-value{ font-weight:800; }
.r-total{
  display:flex; align-items:center; justify-content:space-between;
  margin-top:8px; padding-top:8px; border-top:1px solid var(--line);
}
.report-summary{
  display:flex; gap:16px; flex-wrap:wrap;
  margin-top:12px;
}

/* Tabla de urnas para reportes y admin */
.table-urna th, .table-urna td{
  padding:10px 12px;
}
.table-urna .big{
  font-size:22px;
}

/* ===========================
   Modal (Urnas)
=========================== */
.modal-overlay{
  position:fixed; inset:0;
  background:rgba(10, 20, 40, .25);
  display:flex; align-items:center; justify-content:center;
  padding:16px; z-index:50;
}
.modal{
  width:min(100%, 1200px);
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  box-shadow:var(--shadow);
  display:flex; flex-direction:column;
  max-height:92vh;
}
.modal-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; border-bottom:1px solid var(--line);
}
.modal-head h3{ margin:0; color:#0b2436; }
.modal-body{ padding:12px 14px; overflow:auto; }
.modal-foot{
  padding:12px 14px; border-top:1px solid var(--line);
  display:flex; gap:8px; justify-content:flex-end;
}
.close{
  background:#fff; border:1px solid var(--line); border-radius:10px;
  padding:6px 10px; cursor:pointer;
}
.toolbar{
  display:flex; gap:10px; margin-bottom:12px; align-items:center; flex-wrap:wrap;
}
.vote-input{
  border:1px solid var(--line);
  border-radius:10px;
  padding:8px 10px;
  width:120px;
}
.vote-input.small{ width:110px; }
.link{
  margin-left:10px;
  color:var(--brand-2);
  background:none; border:none;
  cursor:pointer;
  font-weight:700;
}
.link:hover{ text-decoration:underline; }
.link.danger{ color:#b91c1c; }

.save-hint{ color:var(--muted); font-size:12px; }
.save-hint.saving{ color:#0369a1; }

/* ===========================
   Utilidades
=========================== */
.no-print{ /* se ocultan en impresión */ }
.skeleton{ color:var(--muted); }

/* ===========================
   Responsivo
=========================== */
@media (max-width: 1024px){
  .results-two{ grid-template-columns:1fr; }
  .kpi-strip{ grid-template-columns: 1fr; }
}
@media (max-width: 640px){
  .party-box{ min-width: 180px; }
  .flag{ width:36px; height:24px; }
  .flag.sm{ width:22px; height:16px; }
  th, td{ padding:8px 10px; font-size:13px; }
}

/* ===========================
   Print (sólo impresión)
=========================== */
@media print {
  /* Oculta controles interactivos */
  .no-print,
  .header,
  .btn,
  .tab-btn,
  .select,
  .chip,
  .toolbar .btn,
  .toolbar .select,
  .toolbar .link,
  .link,
  .close {
    display:none !important;
  }

  html, body, #root {
    background:#fff !important;
    color:#000 !important;
    -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
  }

  @page { size: A4; margin: 12mm; }

  /* Evitar cortes feos */
  .wrap,
  .places-grid,
  .report-grid,
  .table-wrap,
  .report-card,
  .place-card,
  .card,
  table {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Repetir encabezados de tabla */
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }

  /* Números grandes en impresión */
  .big { font-size: 32px !important; }
}
